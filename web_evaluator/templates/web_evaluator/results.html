{% extends "web_evaluator/base.html" %}
{% block content %}
<div class="w3-row-padding w3-section w3-hide-medium">
    <div class="w3-col w3-half">
        <video controls width="100%">
            <source src="{{ MEDIA_URL }}{{path1}}" type="video/mp4">
            <p>Your browser doesn't support HTML video.</p>
        </video>
        <button id="1" class="w3-button w3-center w3-green w3-margin" style="width:30%"
                onclick=saveVote("{{videoid}}","{{path1}}")>
                <!--formmethod="post" type="submit">-->
            Upvote!
        </button>
    </div>
    <div class="w3-col w3-half">
        <video controls width="100%">
            <source src="{{ MEDIA_URL }}{{path2}}" type="video/mp4">
            <p>Your browser doesn't support HTML video.</p>
        </video>
        <button id="2" class="w3-button w3-center w3-green w3-margin" style="width:30%"
                onclick=saveVote("{{videoid}}","{{path2}}")>
                <!--formmethod="post" type="submit">-->
            Upvote!
        </button>
    </div>
    <div class="w3-col w3-half">
        <video controls width="100%">
            <source src="{{ MEDIA_URL }}{{path3}}" type="video/mp4">
            <p>Your browser doesn't support HTML video.</p>
        </video>
        <button id="3" class="w3-button w3-center w3-green w3-margin" style="width:30%"
                onclick=saveVote("{{videoid}}","{{path3}}")>
                <!--formmethod="post" type="submit">-->
            Upvote!
        </button>
    </div>
    <div class="w3-col w3-half">
        <video controls width="100%">
            <source src="{{ MEDIA_URL }}{{path4}}" type="video/mp4">
            <p>Your browser doesn't support HTML video.</p>
        </video>
        <button id="4" class="w3-button w3-center w3-green w3-margin" style="width:30%"
                onclick=saveVote("{{videoid}}","{{path4}}")>
                <!--formmethod="post" type="submit">-->
            Upvote!
        </button>
    </div>
</div>

{% endblock content%}
{% block js %}
<script>


function saveVote(videoid, path) {
var values = {
        "videoid"       : videoid,
        "path"        : path,
        };
console.log(videoid);
console.log(values);

$.ajax({
    url: "vote/",
    type: "POST",
    data: values,
    }
)
.done(function(response) {
    alert("success" + response);
    window.location.href = response.url;
    })
.fail(function(data) {
    alert("failure" + data);
    });
}


/*
$(document).ready(function(){
        $("button").click(function() {
            var model_path = $(this).val().path();
            var video_id = $(this).val().videoId();
            alert(model_path);
        });

        console.log(post_url);
        console.log(request_method);
        console.log(form_data);

        $.ajax({
            url : post_url,
            type: request_method,
            data : form_data
        }).done(function(response){
            console.log(response.error)
            if(response.error == true){
                alert(response.error_prompt);
            } else {
                alert(response.url);
                window.location.href = response.url;
            }
        });
    });
});*/

</script>
{% endblock js %}